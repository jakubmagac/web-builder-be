{% extends "_base.html" %}

{% block meta_title %}{{ i18n.t('builder:objectivesOverviewTitle') }}{% endblock %}

{% block body_header_title %}
{{ i18n.t('builder:courseObjectivesOverview') }}
{% endblock %}

{% block body_content %}
    {% for folder, pages in overview.folders.items() %}
      {% set helpers = namespace(title_rendered=false) %}
      <div class="overview__list">
        {% for page in pages %}
          {% if not helpers.title_rendered %}
            {% set helpers.title_rendered = true %}
            <h2 class="overview__folder-title">{{ folder.title }}</h2>
          {% endif %}
          {% if page.get_objectives() %}
            <h4 class="overview__list-header">
              <a href="{{  '' if page.is_hidden() else page.url }}" class="overview__list-link {% if page.is_hidden() %}disabled{% endif %}">
                {{ page.week }}. {{ i18n.t('builder:week', ['lowercase']) }}: {{ page.title }}
              </a>
            </h4>
            <ol class="overview__list_row">
              {% for objective in page.get_objectives() %}
              <li class="overview__list-item">{{ objective }}</li>
              {% endfor %}
            </ol>
          {% endif %}
        {% endfor %}
      </div>
    {% endfor %}
{% endblock %}
