"""URL utilities."""
from pathlib import Path


def relativize(page_path: Path, link: str) -> str:
    if link.startswith("/") and not link.startswith("//"):
        nesting_level = len(page_path.parts) - 1
        return ("../" * nesting_level) + link.lstrip("/")
    else:
        return link
