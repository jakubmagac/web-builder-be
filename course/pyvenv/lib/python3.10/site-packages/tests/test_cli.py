from pathlib import Path

from click.testing import CliRunner

from it4kt.cli import cli


def test_build(example_course):
    """End-to-end test of the build command."""
    result = CliRunner().invoke(cli, ['build'])
    assert result.exit_code == 0
    assert Path('output', 'index.html').exists()


def test_latex(example_course):
    """End-to-end test of the latex command."""
    result = CliRunner().invoke(cli, ['latex'])
    assert result.exit_code == 0
    assert Path('latex-output', 'article.tex').exists()
    assert Path('latex-output', 'styles').exists()
